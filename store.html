<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title> Ø§Ù„Ù‚ØµØµ (Ø³ØªÙˆØ±ÙŠ) Ù…Ù†ØµÙ‡ ÙÙ†Ø¯Ø´Ø§Øª </title>
  <!-- Ø±Ø¨Ø· Ø®Ø·ÙˆØ· ØªØ§Ø¬ÙˆØ§Ù„ -->
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
  <!-- Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" 
        integrity="sha512-pIVz3r+YZIxG8wfsx9NWeoO59V+byy3pY++jZo+iq8zB0QpUP7q90ymY+gnr9dMW+dE9W/jwhCQq+E3Cz/XXRw==" 
        crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- Ù…ÙƒØªØ¨Ø§Øª Firebase -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
  <!-- Ù…ÙƒØªØ¨Ø© Backendless Ù„Ù†Ø´Ø± Ø§Ù„ØµÙˆØ± -->
  <script src="https://cdn.jsdelivr.net/npm/backendless@7.0.5/dist/backendless.min.js"></script>
  <style>
    :root {
      --primary-color: #0072ff;
      --primary-dark: #005bb5;
      --secondary-color: #28a745;
      --danger-color: #dc3545;
      --bg-color: #f4f7f6;
      --text-color: #333;
      --header-bg: linear-gradient(45deg, #00c6ff, #0072ff);
      --tab-inactive: #e9ecef;
    }
    body.dark-mode {
      --bg-color: #181818;
      --text-color: #e0e0e0;
      --header-bg: linear-gradient(45deg, #333, #111);
      --tab-inactive: #2d2d2d;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Tajawal', sans-serif;
      background: var(--bg-color);
      color: var(--text-color);
      direction: rtl;
      transition: background 0.3s, color 0.3s;
    }
    header {
      background: var(--header-bg);
      padding: 20px;
      text-align: center;
      color: #fff;
      position: relative;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }
    header h1 { margin: 0; font-size: 2.2rem; }
    .nav-buttons {
      position: absolute;
      top: 0px;
      left: 0px;
      z-index: 10000;
    }
    .nav-buttons button {
      background: none;
      border: none;
      cursor: pointer;
      outline: none;
    }
    .nav-buttons button span {
      font-size: 1.2rem;
      font-weight: bold;
      color: red;
      border: 0px solid black;
      padding: 5px 0px;
      border-radius: 1px;
    }
    .nav-buttons button:hover span {
      color: #cc0000;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 15px;
    }
    .stories-container {
      display: flex;
      overflow-x: auto;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 10px;
      margin-top: 20px;
    }
    .story {
      margin: 10px;
      text-align: center;
      cursor: pointer;
      flex-shrink: 0;
      position: relative;
    }
    .story-img {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      border: 3px solid var(--primary-color);
      object-fit: cover;
      transition: transform 0.3s, border-color 0.3s;
    }
    .story.multiple .story-img { border: 3px solid #FF1493; }
    .story:hover .story-img {
      transform: scale(1.1);
      border-color: #00c6ff;
    }
    .story-name {
      font-size: 0.9rem;
      margin-top: 8px;
      color: #555;
    }
    .view-count {
      position: absolute;
      bottom: 20px;
      right: 20px;
      background: rgba(0,0,0,0.5);
      color: #fff;
      padding: 5px 10px;
      border-radius: 20px;
      font-size: 1rem;
      cursor: pointer;
    }
    .like-btn {
      position: absolute;
      bottom: 20px;
      left: 20px;
      background: rgba(0,0,0,0.5);
      color: #fff;
      padding: 5px 10px;
      border-radius: 20px;
      font-size: 1rem;
      cursor: pointer;
    }
    .suggested-accounts-container {
      margin-top: 10px;
      padding: 20px;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .suggested-accounts-container h2 {
      text-align: center;
      margin-bottom: 15px;
      color: var(--primary-color);
      font-size: 1.8rem;
    }
    .accounts-grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
    }
    .account-card {
      width: 160px;
      text-align: center;
      cursor: pointer;
      position: relative;
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 10px;
      background: #fff;
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .account-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }
    .account-card img {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      border: 3px solid var(--primary-color);
      object-fit: cover;
      transition: transform 0.3s;
    }
    .account-card img:hover { transform: scale(1.1); }
    .account-card .account-name {
      margin-top: 8px;
      font-size: 1.1rem;
      color: #333;
      font-weight: 600;
    }
    .account-card .followers-count {
      font-size: 0.85rem;
      margin: 5px 0;
      color: #777;
    }
    .follow-btn {
      margin-top: 8px;
      padding: 5px 10px;
      background: var(--primary-color);
      border: none;
      color: #fff;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s;
      font-size: 0.9rem;
    }
    .follow-btn:hover {
      background: var(--primary-dark);
    }
    #fabContainer {
      position: fixed;
      bottom: 30px;
      right: 30px;
      text-align: center;
      z-index: 1001;
      transition: opacity 0.3s;
    }
    .fab {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      background-color: var(--primary-color);
      color: #fff;
      font-size: 2.5rem;
      border: none;
      box-shadow: 0 3px 8px rgba(0,0,0,0.3);
      cursor: pointer;
      outline: none;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.3s;
    }
    .fab:hover { background-color: var(--primary-dark); }
    .fab-label {
      margin-top: 10px;
      color: var(--primary-color);
      font-weight: bold;
      font-size: 1rem;
    }
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.85);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .modal-content {
      background: #fff;
      padding: 25px;
      border-radius: 10px;
      max-width: 500px;
      width: 90%;
      text-align: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      position: relative;
      transition: all 0.3s;
    }
    .modal-content h2 {
      margin-top: 0;
      color: var(--primary-color);
      font-size: 1.8rem;
    }
    textarea {
      width: 100%;
      padding: 12px;
      margin: 15px 0;
      border: 1px solid #ccc;
      border-radius: 8px;
      resize: vertical;
      font-family: 'Tajawal', sans-serif;
      font-size: 1rem;
    }
    button {
      padding: 10px 20px;
      background: var(--primary-color);
      border: none;
      color: #fff;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      margin: 5px;
      transition: background 0.3s;
    }
    button:hover { background: var(--primary-dark); }
    .btn-danger {
      background: var(--danger-color);
    }
    .btn-danger:hover { background: #b02a37; }
    .publish-btn {
      background: var(--secondary-color);
      border: none;
      color: #fff;
      padding: 10px 15px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: background 0.3s;
      margin-left: 10px;
    }
    .publish-btn:hover { background: #218838; }
    .story-view {
      width: 100vw;
      height: 100vh;
      background-size: cover;
      background-position: center;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      position: relative;
      color: #fff;
      padding: 20px;
      box-sizing: border-box;
    }
    .action-bar {
      position: absolute;
      top: 20px;
      right: 20px;
      z-index: 1002;
      display: flex;
      gap: 15px;
    }
    .nav-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      font-size: 2rem;
      color: #fff;
      background: rgba(0,0,0,0.4);
      border: none;
      border-radius: 50%;
      padding: 10px;
      cursor: pointer;
      z-index: 1001;
    }
    .nav-btn.prev { right: 20px; }
    .nav-btn.next { left: 20px; }
    .exit-btn {
      position: absolute;
      top: 20px;
      left: 20px;
      font-size: 1.5rem;
      background: rgba(0,0,0,0.5);
      border: none;
      color: #fff;
      padding: 5px 10px;
      cursor: pointer;
      border-radius: 8px;
      z-index: 1002;
    }
    #userInfoModal img {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      border: 3px solid var(--primary-color);
      object-fit: cover;
      margin-bottom: 15px;
      cursor: pointer;
    }
    #profileModal .modal-content {
      width: 100vw;
      height: 100vh;
      border-radius: 0;
      padding: 20px;
      position: relative;
      overflow: hidden;
    }
    #profileModal .profile-header {
      display: flex;
      align-items: center;
      gap: 20px;
      border-bottom: 1px solid #ddd;
      padding-bottom: 15px;
      margin-bottom: 15px;
    }
    #profileModal .profile-header img {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      border: 3px solid var(--primary-color);
      object-fit: cover;
    }
    #profileModal .profile-header .profile-info {
      text-align: left;
    }
    #profileModal .profile-header .profile-info p {
      margin: 5px 0;
      font-size: 1rem;
    }
    #userStoriesContainer {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 100%;
      height: 40%;
      overflow-y: auto;
      background: rgba(255,255,255,0.95);
      padding: 10px;
      box-sizing: border-box;
    }
    .story-card {
      width: 100%;
      min-height: 120px;
      border: 2px solid red;
      border-radius: 8px;
      overflow: hidden;
      background-size: cover;
      background-position: center;
      margin-bottom: 10px;
    }
    .story-time {
      position: absolute;
      top: 0px;
      left: 0px;
      color: #fff;
      background: rgba(0, 0, 0, 0.5);
      padding: 5px 10px;
      border-radius: 5px;
      font-size: 0.9rem;
      z-index: 1002;
    }
    .story-text-card {
      background: rgba(255, 255, 255, 0.9);
      color: #333;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
      max-width: 80%;
      margin: 20px auto;
      text-align: center;
      font-family: 'Tajawal', sans-serif;
    }
    .story-text-card h2 {
      margin: 0;
      font-size: 1.5rem;
      color: var(--primary-color);
    }
    .story-text-card p {
      margin-top: 10px;
      font-size: 1.1rem;
      line-height: 1.5;
    }
    
    /* Ù…Ù†Ø·Ù‚Ø© Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ± (Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª) */
    .gallery-container {
      margin-top: 10px;
      padding: 20px;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 15px;
      margin-top: 20px;
    }
    .gallery .post {
      background: white;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      overflow: hidden;
      position: relative;
    }
    .gallery .post img {
      width: 100%;
      height: 200px;
      object-fit: cover;
    }
    .gallery .post .user-name {
      padding: 8px;
      text-align: center;
      font-weight: bold;
    }
    .gallery .post .delete-btn {
      background: #dc3545;
      color: white;
      border: none;
      padding: 5px;
      width: 100%;
      cursor: pointer;
    }
    
    /* ØªØ¨ÙˆÙŠØ¨Ø§Øª Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
    .tabs-container {
      display: flex;
      justify-content: center;
      margin: 20px 0;
    }
    
    .tab {
      padding: 12px 24px;
      background: var(--tab-inactive);
      border: none;
      border-radius: 30px;
      cursor: pointer;
      font-size: 1.1rem;
      font-weight: bold;
      transition: all 0.3s;
      margin: 0 5px;
    }
    
    .tab.active {
      background: var(--primary-color);
      color: white;
    }
    
    .tab-content {
      display: none;
    }
    
    .tab-content.active {
      display: block;
    }
    
    /* ØªØµÙ…ÙŠÙ… Ø¬Ø¯ÙŠØ¯ Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù‚ØµØ© */
    .story-type-selector {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-bottom: 20px;
    }
    
    .story-type-btn {
      padding: 12px 24px;
      background: #e9ecef;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1.1rem;
      font-weight: bold;
      transition: all 0.3s;
    }
    
    .story-type-btn.active {
      background: var(--primary-color);
      color: white;
    }
    
    .story-type-content {
      display: none;
    }
    
    .story-type-content.active {
      display: block;
    }
    
    /* ØªØµÙ…ÙŠÙ… Ø¬Ø¯ÙŠØ¯ Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø© */
    .image-preview-container {
      display: none;
      margin: 20px 0;
      text-align: center;
    }
    
    .image-preview {
      max-width: 100%;
      max-height: 300px;
      border-radius: 10px;
      border: 2px dashed #ddd;
      margin: 10px auto;
      display: block;
    }
    
    .upload-btn {
      background: #4CAF50;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1rem;
      margin-top: 10px;
    }
    
    .upload-btn:hover {
      background: #45a049;
    }
    
    .file-upload-label {
      display: inline-block;
      padding: 10px 20px;
      background: var(--primary-color);
      color: white;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s;
      margin: 10px 0;
    }
    
    .file-upload-label:hover {
      background: var(--primary-dark);
    }
    
    .file-upload-label i {
      margin-left: 8px;
    }
    
    @media (max-width: 600px) {
      header h1 { font-size: 1.5rem; }
      .fab { width: 60px; height: 60px; font-size: 2rem; }
      .fab-label { font-size: 0.9rem; }
      .gallery {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      }
      .tab {
        padding: 10px 15px;
        font-size: 1rem;
      }
      .story-type-btn {
        padding: 10px 15px;
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <!-- Ø±Ø£Ø³ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ø¹ Ø²Ø± Ø±Ø¬ÙˆØ¹ ÙƒÙ†Øµ Ø¸Ø§Ù‡Ø± ÙÙˆÙ‚ Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¹Ù†Ø§ØµØ± -->
  <header>
    <div class="nav-buttons">
      <button id="backBtn" title="Ø±Ø¬ÙˆØ¹">
        <span>Ø±Ø¬ÙˆØ¹</span>
      </button>
    </div>
    <div class="container">
      <h1>Ù‚ØµØµÙŠ - Ø³ØªÙˆØ±ÙŠ</h1>
    </div>
  </header>

  <div class="container">
    <!-- Ù…Ù†Ø·Ù‚Ø© Ø¹Ø±Ø¶ Ø§Ù„Ù‚ØµØµ -->
    <div class="stories-container" id="storiesContainer">
      <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚ØµØµ Ù‡Ù†Ø§ -->
    </div>
    
    <!-- ØªØ¨ÙˆÙŠØ¨Ø§Øª Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div class="tabs-container">
      <button id="postsTab" class="tab active">Ù…Ù†Ø´ÙˆØ±Ø§Øª</button>
      <button id="suggestedTab" class="tab">Ø­Ø³Ø§Ø¨Ø§Øª Ù…Ù‚ØªØ±Ø­Ø©</button>
    </div>
    
    <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª -->
    <div id="postsContent" class="tab-content active">
      <!-- Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ± (Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª) -->
      <div class="gallery-container">
        <div class="gallery" id="gallery"></div>
      </div>
    </div>
    
    <div id="suggestedContent" class="tab-content">
      <!-- Ù‚Ø³Ù… Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø© -->
      <div class="suggested-accounts-container">
        <h2>Ø­Ø³Ø§Ø¨Ø§Øª Ù…Ù‚ØªØ±Ø­Ø©</h2>
        <div class="accounts-grid" id="accountsGrid">
          <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù‡Ù†Ø§ -->
        </div>
      </div>
    </div>
  </div>

  <!-- Ø²Ø± Ù†Ø´Ø± Ø§Ù„Ù‚ØµØ© Ø§Ù„Ø¹Ø§Ø¦Ù… -->
  <div id="fabContainer">
    <button class="fab" id="floatingAddStoryBtn">+</button>
    <div class="fab-label">Ù†Ø´Ø± Ù‚ØµÙ‡ Ø¬Ø¯ÙŠØ¯Ù‡</div>
  </div>
  
  <!-- Ø²Ø± Ù†Ø´Ø± Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø¹Ø§Ø¦Ù… -->
  <div id="fabContainerForImage" style="position: fixed; bottom: 120px; right: 30px; text-align: center; z-index: 1001;">
    <button class="fab" id="floatingAddImageBtn" style="background-color: #4CAF50;">ğŸ“·</button>
    <div class="fab-label">Ù†Ø´Ø± ØµÙˆØ±Ø©</div>
  </div>
  
  <!-- Ù…ÙˆØ¯Ø§Ù„ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚ØµØ© Ù…Ø¹ Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù†ÙˆØ¹ -->
  <div class="modal-overlay" id="addStoryModal">
    <div class="modal-content">
      <h2 id="modalTitle">Ù†Ø´Ø± Ù‚ØµØ© Ø¬Ø¯ÙŠØ¯Ø©</h2>
      
      <div class="story-type-selector">
        <button id="textStoryBtn" class="story-type-btn active">Ù†Øµ</button>
        <button id="imageStoryBtn" class="story-type-btn">ØµÙˆØ±Ø©</button>
      </div>
      
      <div id="textStoryContent" class="story-type-content active">
        <textarea id="storyText" rows="4" placeholder="Ø£Ø¯Ø®Ù„ Ù†Øµ Ø§Ù„Ù‚ØµØ©..."></textarea>
        <br>
        <button id="postTextStoryBtn"><i class="fa-solid fa-paper-plane"></i> Ù†Ø´Ø± Ù†Øµ</button>
      </div>
      
      <div id="imageStoryContent" class="story-type-content">
        <!-- ØªÙ… ØªØ­Ø¯ÙŠØ« Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù… Ù„ØªØ­Ø³ÙŠÙ† Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØµÙˆØ± -->
        <label for="storyImageInput" class="file-upload-label">
          <i class="fa-solid fa-image"></i> Ø§Ø®ØªØ± ØµÙˆØ±Ø©
        </label>
        <input type="file" id="storyImageInput" accept="image/*" style="display: none;" />
        
        <div class="image-preview-container" id="imagePreviewContainer">
          <img id="imagePreview" class="image-preview" src="" alt="Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©">
          <br>
          <button id="uploadImageBtn" class="upload-btn">
            <i class="fa-solid fa-cloud-upload-alt"></i> Ù†Ø´Ø± Ø§Ù„ØµÙˆØ±Ø©
          </button>
        </div>
      </div>
      
      <button id="closeAddStoryBtn" class="btn-danger">
        <i class="fa-solid fa-xmark"></i> Ø¥ØºÙ„Ø§Ù‚
      </button>
    </div>
  </div>

  <!-- Ù…ÙˆØ¯Ø§Ù„ Ø¹Ø±Ø¶ Ø§Ù„Ù‚ØµØ© -->
  <div class="modal-overlay" id="viewStoryModal">
    <div class="story-view" id="storyView">
      <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ù…Ø­ØªÙˆÙ‰ Ø¹Ø±Ø¶ Ø§Ù„Ù‚ØµØ© Ù‡Ù†Ø§ -->
    </div>
    <button class="nav-btn prev" id="prevStory">&#10094;</button>
    <button class="nav-btn next" id="nextStory">&#10095;</button>
    <button class="exit-btn" id="exitBtn">X</button>
  </div>

  <!-- Ù…ÙˆØ¯Ø§Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
  <div class="modal-overlay" id="userInfoModal">
    <div class="modal-content" id="userInfoContent">
      <h2>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</h2>
      <div id="userInfoDetails">
        <!-- ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
      </div>
      <button id="closeUserInfoBtn" class="btn-danger">
        <i class="fa-solid fa-xmark"></i> Ø¥ØºÙ„Ø§Ù‚
      </button>
    </div>
  </div>

  <!-- Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ (ÙŠØ´Ø¨Ù‡ Ø¥Ù†Ø³ØªØºØ±Ø§Ù…) -->
  <div class="modal-overlay" id="profileModal">
    <div class="modal-content">
      <button id="closeProfileBtn" class="btn-danger" style="position:absolute; top:10px; right:10px;">
        <i class="fa-solid fa-xmark"></i> Ø¥ØºÙ„Ø§Ù‚
      </button>
      <div class="profile-header">
        <img id="profilePic" src="" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
        <div class="profile-info" id="profileInfo">
          <!-- ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨ -->
        </div>
      </div>
      <!-- Ù‚ØµØµ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØªØ¸Ù‡Ø± ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„ -->
      <div id="userStoriesContainer">
        <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ù‚ØµØµ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù‡Ù†Ø§ -->
      </div>
    </div>
  </div>

  <!-- Ù…ÙˆØ¯Ø§Ù„ Ø¹Ø±Ø¶ Ù…Ø´Ø§Ù‡Ø¯Ø§Øª Ø§Ù„Ù‚ØµØ© -->
  <div class="modal-overlay" id="storyViewsModal">
    <div class="modal-content">
      <h2>Ù…Ø´Ø§Ù‡Ø¯Ø§Øª Ø§Ù„Ù‚ØµØ©</h2>
      <div id="viewsList">
        <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯ÙŠÙ† Ù‡Ù†Ø§ -->
      </div>
      <button id="closeViewsModal" class="btn-danger">
        <i class="fa-solid fa-xmark"></i> Ø¥ØºÙ„Ø§Ù‚
      </button>
    </div>
  </div>

  <script>
    // ØªÙ‡ÙŠØ¦Ø© Backendless Ù„Ù†Ø´Ø± Ø§Ù„ØµÙˆØ±
    const APP_ID = "1A59C778-783C-4A9B-8167-648ECCFDF394";
    const API_KEY = "BBEAFC43-F642-44A3-B89A-245CA24C6D87";
    const STORIES_TABLE = "lpa"; // Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù‚ØµØµ
    const POSTS_TABLE = "Apl";   // Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª
    Backendless.initApp(APP_ID, API_KEY);

    // Ø¯Ø§Ù„Ø© Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù†Ø³Ø¨ÙŠ (Ù…Ø«Ù„Ø§Ù‹ "Ù‚Ø¨Ù„ 5 Ø¯Ù‚ÙŠÙ‚Ø©")
    function getRelativeTime(date) {
      const now = new Date();
      const diffInSeconds = Math.floor((now - date) / 1000);
      if(diffInSeconds < 60) {
        return `Ù‚Ø¨Ù„ ${diffInSeconds} Ø«Ø§Ù†ÙŠØ©`;
      } else if(diffInSeconds < 3600) {
        const minutes = Math.floor(diffInSeconds / 60);
        return `Ù‚Ø¨Ù„ ${minutes} Ø¯Ù‚ÙŠÙ‚Ø©`;
      } else if(diffInSeconds < 86400) {
        const hours = Math.floor(diffInSeconds / 3600);
        return `Ù‚Ø¨Ù„ ${hours} Ø³Ø§Ø¹Ø©`;
      } else {
        const days = Math.floor(diffInSeconds / 86400);
        return `Ù‚Ø¨Ù„ ${days} ÙŠÙˆÙ…`;
      }
    }

    // ØªÙ‡ÙŠØ¦Ø© Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyBwwrBtf6AtW7R36FX4j2GQZVEdJldFq7o",
      authDomain: "you-unblock.firebaseapp.com",
      projectId: "you-unblock",
      storageBucket: "you-unblock.appspot.com",
      messagingSenderId: "306278978440",
      appId: "1:306278978440:web:4ca87c3856e107a30be03d"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    let currentUser = null;
    let storyGroups = [];
    let currentGroupIndex = 0;
    let currentStoryIndex = 0;
    let uploadType = 'story'; // Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©: Ù‚ØµØ©

    auth.onAuthStateChanged(user => {
      if(user) {
        currentUser = {
          id: user.uid,
          name: user.displayName || "Ù…Ø³ØªØ®Ø¯Ù…",
          photoURL: user.photoURL || "https://www.gravatar.com/avatar/?d=mp"
        };
        loadStories();
        loadSuggestedAccounts();
        loadGalleryImages();
      } else {
        window.location.href = 'login.html';
      }
    });

    // Ø­Ø¯Ø« Ø²Ø± Ø§Ù„Ø±Ø¬ÙˆØ¹
    document.getElementById("backBtn").addEventListener("click", () => {
      window.location.href = "chat.html";
    });

    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚ØµØµ ÙˆØªØ¬Ù…ÙŠØ¹Ù‡Ø§ Ø­Ø³Ø¨ userId
    function loadStories() {
      // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚ØµØµ Ù…Ù† Backendless
      Backendless.Data.of(STORIES_TABLE).find()
        .then(stories => {
          // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù‚ØµØµ Ø§Ù„Ù…Ø­Ù…Ù„Ø©
          let groups = {};
          stories.forEach(story => {
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù‚ØµØ© (Ø£Ù‚Ù„ Ù…Ù† 24 Ø³Ø§Ø¹Ø©)
            const storyTime = new Date(story.timestamp);
            const now = new Date();
            if(now - storyTime > 24 * 60 * 60 * 1000) {
              // Ø­Ø°Ù Ø§Ù„Ù‚ØµØ© Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©
              Backendless.Data.of(STORIES_TABLE).remove(story.objectId);
              return;
            }
            
            if(!groups[story.userId]) {
              groups[story.userId] = [];
            }
            groups[story.userId].push(story);
          });
          
          // ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Ù…ØµÙÙˆÙØ© ÙˆØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø§Ù„ÙˆÙ‚Øª
          storyGroups = [];
          for(let userId in groups) {
            groups[userId].sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp));
            storyGroups.push({ userId: userId, stories: groups[userId] });
          }
          storyGroups.sort((a, b) => {
            return new Date(b.stories[b.stories.length - 1].timestamp) - 
                   new Date(a.stories[a.stories.length - 1].timestamp);
          });
          
          renderStoryGroups();
        })
        .catch(err => console.error("Error loading stories:", err));
    }

    // Ø¹Ø±Ø¶ Ø§Ù„Ù‚ØµØµ ÙÙŠ Ø´Ø±ÙŠØ· Ø§Ù„Ù‚ØµØµ
    function renderStoryGroups() {
      const container = document.getElementById('storiesContainer');
      container.innerHTML = "";
      storyGroups.forEach(group => {
        const latestStory = group.stories[group.stories.length - 1];
        const storyDiv = document.createElement('div');
        storyDiv.classList.add('story');
        if(group.stories.length > 1) {
          storyDiv.classList.add('multiple');
        }
        storyDiv.dataset.userId = group.userId;
        const img = document.createElement('img');
        img.classList.add('story-img');
        img.src = latestStory.photoURL || currentUser.photoURL;
        const nameDiv = document.createElement('div');
        nameDiv.classList.add('story-name');
        nameDiv.textContent = latestStory.userName;
        storyDiv.appendChild(img);
        storyDiv.appendChild(nameDiv);
        storyDiv.addEventListener('click', () => {
          currentGroupIndex = storyGroups.findIndex(g => g.userId === group.userId);
          currentStoryIndex = 0;
          showGroupedStory(currentGroupIndex, currentStoryIndex);
        });
        container.appendChild(storyDiv);
      });
    }

    // Ø¹Ø±Ø¶ Ù‚ØµØ© Ù…Ø¹ÙŠÙ†Ø© Ù…Ù† Ù…Ø¬Ù…ÙˆØ¹Ø©
    function showGroupedStory(groupIndex, storyIndex) {
      if(groupIndex < 0 || groupIndex >= storyGroups.length) return;
      let group = storyGroups[groupIndex];
      if(storyIndex < 0 || storyIndex >= group.stories.length) return;
      let story = group.stories[storyIndex];
      const storyView = document.getElementById('storyView');
      storyView.innerHTML = "";
      
      // Ø¥Ø®ÙØ§Ø¡ Ø²Ø± Ø§Ù„Ø±Ø¬ÙˆØ¹ ÙˆØ²Ø± Ù†Ø´Ø± Ø§Ù„ØµÙˆØ±Ø©
      document.querySelector('.nav-buttons').style.display = 'none';
      document.getElementById('fabContainerForImage').style.display = 'none';
      
      // Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù‚ØµØ© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ
      if(story.userId === currentUser.id) {
        const actionBar = document.createElement('div');
        actionBar.className = "action-bar";
        const deleteBtn = document.createElement('button');
        deleteBtn.className = "btn-danger";
        deleteBtn.innerHTML = '<i class="fa-solid fa-trash"></i> Ø­Ø°Ù Ø§Ù„Ù‚ØµØ©';
        deleteBtn.addEventListener('click', (e) => {
          e.stopPropagation();
          if(confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ù‚ØµØ©ØŸ")) {
            deleteStory(story.objectId);
          }
        });
        const publishNewBtn = document.createElement('button');
        publishNewBtn.className = "publish-btn";
        publishNewBtn.innerHTML = '<i class="fa-solid fa-plus-circle"></i> Ù†Ø´Ø± Ù‚ØµØ© Ø¬Ø¯ÙŠØ¯Ø©';
        publishNewBtn.addEventListener('click', (e) => {
          e.stopPropagation();
          document.getElementById('viewStoryModal').style.display = 'none';
          document.getElementById('addStoryModal').style.display = 'flex';
          document.getElementById('fabContainer').style.display = 'block';
        });
        actionBar.appendChild(deleteBtn);
        actionBar.appendChild(publishNewBtn);
        storyView.appendChild(actionBar);
      }
      
      // Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø·Ø§Ù‚Ø© Ù„Ø¹Ø±Ø¶ Ù†Øµ Ø§Ù„Ù‚ØµØ© Ø¨Ø´ÙƒÙ„ Ø§Ø­ØªØ±Ø§ÙÙŠ
      if(story.type === 'text') {
        const textCard = document.createElement('div');
        textCard.className = "story-text-card";
        textCard.innerHTML = `<h2>${story.userName}</h2><p>${story.text}</p>`;
        storyView.appendChild(textCard);
      }
      else if(story.type === 'image') {
        storyView.style.backgroundImage = `url('${story.imageUrl}')`;
        storyView.style.backgroundSize = 'cover';
      }
      
      // Ø­Ø³Ø§Ø¨ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù†Ø³Ø¨ÙŠ Ù„Ø¹Ø±Ø¶Ù‡
      let relativeTime = "";
      if(story.timestamp) {
        relativeTime = getRelativeTime(new Date(story.timestamp));
      }
      const timeDiv = document.createElement('div');
      timeDiv.className = "story-time";
      timeDiv.textContent = relativeTime;
      storyView.appendChild(timeDiv);
      
      // Ø¥Ù†Ø´Ø§Ø¡ Ø£ÙŠÙ‚ÙˆÙ†Ø© ÙˆØ¹Ø¯Ø¯ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª
      let currentViews = (story.views && story.views.length) ? story.views.length : 0;
      let viewCountDiv = document.createElement('div');
      viewCountDiv.className = "view-count";
      viewCountDiv.innerHTML = '<i class="fa-solid fa-eye"></i> ' + currentViews + ' Ù…Ø´Ø§Ù‡Ø¯Ø§Øª';
      viewCountDiv.addEventListener('click', (e) => {
        e.stopPropagation();
        showStoryViews(story);
      });
      storyView.appendChild(viewCountDiv);
      
      // Ø¥Ù†Ø´Ø§Ø¡ Ø²Ø± Ø§Ù„Ù„Ø§ÙŠÙƒ ÙˆØ¹Ø±Ø¶ Ø¹Ø¯Ø¯ Ø§Ù„Ù„Ø§ÙŠÙƒØ§Øª
      let currentLikes = (story.likes && story.likes.length) ? story.likes.length : 0;
      let likeBtn = document.createElement('div');
      likeBtn.className = "like-btn";
      if(story.likes && story.likes.includes(currentUser.id)) {
         likeBtn.innerHTML = '<i class="fa-solid fa-heart" style="color: red;"></i> ' + currentLikes + ' Ù„Ø§ÙŠÙƒ';
      } else {
         likeBtn.innerHTML = '<i class="fa-regular fa-heart"></i> ' + currentLikes + ' Ù„Ø§ÙŠÙƒ';
      }
      likeBtn.addEventListener('click', (e) => {
          e.stopPropagation();
          if(story.likes && story.likes.includes(currentUser.id)) {
              // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¥Ø¹Ø¬Ø§Ø¨
              Backendless.Data.of(STORIES_TABLE).save({
                objectId: story.objectId,
                likes: story.likes.filter(id => id !== currentUser.id)
              }).then(() => {
                story.likes = story.likes.filter(id => id !== currentUser.id);
                currentLikes = story.likes.length;
                likeBtn.innerHTML = '<i class="fa-regular fa-heart"></i> ' + currentLikes + ' Ù„Ø§ÙŠÙƒ';
              });
          } else {
              // Ø¥Ø¶Ø§ÙØ© Ø¥Ø¹Ø¬Ø§Ø¨
              if(!story.likes) story.likes = [];
              story.likes.push(currentUser.id);
              Backendless.Data.of(STORIES_TABLE).save({
                objectId: story.objectId,
                likes: story.likes
              }).then(() => {
                currentLikes = story.likes.length;
                likeBtn.innerHTML = '<i class="fa-solid fa-heart" style="color: red;"></i> ' + currentLikes + ' Ù„Ø§ÙŠÙƒ';
              });
          }
      });
      storyView.appendChild(likeBtn);
      
      document.getElementById('viewStoryModal').style.display = 'flex';
      document.getElementById('fabContainer').style.display = 'none';
      
      // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©
      if(!story.views || !story.views.includes(currentUser.id)) {
        if(!story.views) story.views = [];
        story.views.push(currentUser.id);
        Backendless.Data.of(STORIES_TABLE).save({
          objectId: story.objectId,
          views: story.views
        }).then(() => {
          viewCountDiv.innerHTML = '<i class="fa-solid fa-eye"></i> ' + story.views.length + ' Ù…Ø´Ø§Ù‡Ø¯Ø§Øª';
        });
      }
    }

    // Ø¯Ø§Ù„Ø© Ø­Ø°Ù Ø§Ù„Ù‚ØµØ©
    function deleteStory(storyId) {
      Backendless.Data.of(STORIES_TABLE).remove(storyId)
        .then(() => {
          document.getElementById('viewStoryModal').style.display = 'none';
          document.getElementById('fabContainer').style.display = 'block';
          document.querySelector('.nav-buttons').style.display = 'block';
          loadStories();
        })
        .catch(err => console.error("Error deleting story:", err));
    }

    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø© Ù…Ø¹ Ø²Ø± Ù…ØªØ§Ø¨Ø¹Ø©/Ø¥Ù„ØºØ§Ø¡ Ù…ØªØ§Ø¨Ø¹Ø©
    function loadSuggestedAccounts() {
      db.collection("users").get().then(snapshot => {
        const grid = document.getElementById("accountsGrid");
        grid.innerHTML = "";
        snapshot.forEach(doc => {
          let user = doc.data();
          user.id = doc.id;
          if(!user.followers) user.followers = [];
          if(!user.followersCount) user.followersCount = 0;
          const card = document.createElement("div");
          card.classList.add("account-card");
          const img = document.createElement("img");
          img.src = user.photoURL || "https://www.gravatar.com/avatar/?d=mp";
          const nameDiv = document.createElement("div");
          nameDiv.classList.add("account-name");
          nameDiv.textContent = user.name || "Ù…Ø³ØªØ®Ø¯Ù…";
          const follCount = document.createElement("p");
          follCount.classList.add("followers-count");
          follCount.textContent = user.followersCount + " Ù…ØªØ§Ø¨Ø¹";
          const followBtn = document.createElement("button");
          followBtn.classList.add("follow-btn");
          if(user.followers.includes(currentUser.id)) {
            followBtn.textContent = "ØªÙ… Ù…ØªØ§Ø¨Ø¹Ù‡";
          } else {
            followBtn.textContent = "Ù…ØªØ§Ø¨Ø¹Ø©";
          }
          followBtn.addEventListener("click", (e) => {
            e.stopPropagation();
            let isFollowing = user.followers.includes(currentUser.id);
            if(!isFollowing) {
              db.collection("users").doc(user.id).update({
                followers: firebase.firestore.FieldValue.arrayUnion(currentUser.id),
                followersCount: firebase.firestore.FieldValue.increment(1)
              }).then(() => {
                followBtn.textContent = "ØªÙ… Ù…ØªØ§Ø¨Ø¹Ù‡";
                user.followers.push(currentUser.id);
                user.followersCount++;
                follCount.textContent = user.followersCount + " Ù…ØªØ§Ø¨Ø¹";
              });
            } else {
              db.collection("users").doc(user.id).update({
                followers: firebase.firestore.FieldValue.arrayRemove(currentUser.id),
                followersCount: firebase.firestore.FieldValue.increment(-1)
              }).then(() => {
                followBtn.textContent = "Ù…ØªØ§Ø¨Ø¹Ø©";
                user.followers = user.followers.filter(id => id !== currentUser.id);
                user.followersCount--;
                follCount.textContent = user.followersCount + " Ù…ØªØ§Ø¨Ø¹";
              });
            }
          });
          card.appendChild(img);
          card.appendChild(nameDiv);
          card.appendChild(follCount);
          card.addEventListener("click", () => {
            showUserInfo(user);
          });
          grid.appendChild(card);
        });
      }).catch(err => console.error("Error loading suggested accounts:", err));
    }

    // Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Ù…ÙˆØ¯Ø§Ù„
    function showUserInfo(user) {
      let joinDate = "ØºÙŠØ± Ù…ØªÙˆÙØ±";
      if(user.createdAt) {
        joinDate = new Date(user.createdAt).toLocaleDateString("ar-EG", {year:"numeric", month:"long", day:"numeric"});
      }
      const followersCount = user.followersCount || 0;
      const detailsDiv = document.getElementById("userInfoDetails");
      detailsDiv.innerHTML = `
        <img id="userProfilePic" src="${user.photoURL || "https://www.gravatar.com/avatar/?d=mp"}" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
        <p><strong>Ø§Ù„Ø§Ø³Ù…:</strong> ${user.name || "ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ"}</p>
        <p><strong>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</strong> ${user.username || "ØºÙŠØ± Ù…ØªÙˆÙØ±"}</p>
        <p><strong>Ø§Ù„ÙˆØµÙ:</strong> ${user.description || "Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ."}</p>
        <p><strong>Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ†:</strong> ${followersCount}</p>
        <p><strong>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù…:</strong> ${joinDate}</p>
      `;
      document.getElementById("userProfilePic").addEventListener("click", () => {
        document.getElementById("fabContainer").style.display = "none";
        openUserProfile(user);
      });
      document.getElementById("userInfoModal").style.display = "flex";
      document.getElementById("fabContainer").style.display = "none";
    }

    document.getElementById("closeUserInfoBtn").addEventListener("click", () => {
      document.getElementById("userInfoModal").style.display = "none";
      document.getElementById("fabContainer").style.display = "block";
    });
    document.getElementById("userInfoModal").addEventListener("click", (e) => {
      if(e.target === document.getElementById("userInfoModal")) {
        document.getElementById("userInfoModal").style.display = "none";
        document.getElementById("fabContainer").style.display = "block";
      }
    });

    // ÙØªØ­ Ø´Ø§Ø´Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ (Ø´Ø§Ø´Ø© ÙƒØ§Ù…Ù„Ø©)
    function openUserProfile(user) {
      let joinDate = "ØºÙŠØ± Ù…ØªÙˆÙØ±";
      if(user.createdAt) {
        joinDate = new Date(user.createdAt).toLocaleDateString("ar-EG", {year:"numeric", month:"long", day:"numeric"});
      }
      document.getElementById("profilePic").src = user.photoURL || "https://www.gravatar.com/avatar/?d=mp";
      document.getElementById("profileInfo").innerHTML = `
        <p><strong>Ø§Ù„Ø§Ø³Ù…:</strong> ${user.name || "ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ"}</p>
        <p><strong>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</strong> ${user.username || "ØºÙŠØ± Ù…ØªÙˆÙØ±"}</p>
        <p><strong>Ø§Ù„ÙˆØµÙ:</strong> ${user.description || "Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ."}</p>
        <p><strong>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù…:</strong> ${joinDate}</p>
        <p><strong>Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ†:</strong> ${user.followersCount || 0}</p>
      `;
      document.getElementById("profileModal").style.display = "flex";
      loadUserStories(user.id);
    }

    // ØªØ­Ù…ÙŠÙ„ Ù‚ØµØµ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ¹Ø±Ø¶Ù‡Ø§ ÙÙŠ Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø³ÙÙ„ÙŠ
    function loadUserStories(userId) {
      const storiesContainer = document.getElementById("userStoriesContainer");
      storiesContainer.innerHTML = "";
      Backendless.Data.of(STORIES_TABLE).find({ where: `userId = '${userId}'` })
        .then(stories => {
          stories.forEach(story => {
            const storyCard = document.createElement("div");
            storyCard.classList.add("story-card", "published");
            if(story.type === 'image') {
              storyCard.style.backgroundImage = `url('${story.imageUrl}')`;
            } else {
              storyCard.style.backgroundColor = '#f0f0f0';
              storyCard.innerHTML = `<div style="padding:10px;text-align:center">${story.text}</div>`;
            }
            storiesContainer.appendChild(storyCard);
          });
        })
        .catch(err => console.error("Error loading user stories:", err));
    }

    document.getElementById("profileModal").addEventListener("click", (e) => {
      if(e.target === document.getElementById("profileModal")) {
        document.getElementById("profileModal").style.display = "none";
        document.getElementById("fabContainer").style.display = "block";
      }
    });
    document.getElementById("closeProfileBtn").addEventListener("click", () => {
      document.getElementById("profileModal").style.display = "none";
      document.getElementById("fabContainer").style.display = "block";
    });

    // Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„Ù‚ØµØµ
    document.getElementById('prevStory').addEventListener('click', (e) => {
      e.stopPropagation();
      if(currentStoryIndex > 0) {
        currentStoryIndex--;
        showGroupedStory(currentGroupIndex, currentStoryIndex);
      } else if(currentGroupIndex > 0) {
        currentGroupIndex--;
        currentStoryIndex = storyGroups[currentGroupIndex].stories.length - 1;
        showGroupedStory(currentGroupIndex, currentStoryIndex);
      }
    });
    document.getElementById('nextStory').addEventListener('click', (e) => {
      e.stopPropagation();
      let group = storyGroups[currentGroupIndex];
      if(currentStoryIndex < group.stories.length - 1) {
        currentStoryIndex++;
        showGroupedStory(currentGroupIndex, currentStoryIndex);
      } else if(currentGroupIndex < storyGroups.length - 1) {
        currentGroupIndex++;
        currentStoryIndex = 0;
        showGroupedStory(currentGroupIndex, currentStoryIndex);
      }
    });
    document.getElementById('exitBtn').addEventListener('click', () => {
      document.getElementById('viewStoryModal').style.display = 'none';
      document.getElementById('fabContainer').style.display = 'block';
      document.getElementById('fabContainerForImage').style.display = 'block';
      document.querySelector('.nav-buttons').style.display = 'block';
    });
    document.getElementById('viewStoryModal').addEventListener('click', (e) => {
      if(e.target === document.getElementById('viewStoryModal')) {
        document.getElementById('viewStoryModal').style.display = 'none';
        document.getElementById('fabContainer').style.display = 'block';
        document.getElementById('fabContainerForImage').style.display = 'block';
        document.querySelector('.nav-buttons').style.display = 'block';
      }
    });
    
    // Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù‚ØµØ© (Ù†Øµ/ØµÙˆØ±Ø©)
    document.getElementById('textStoryBtn').addEventListener('click', function() {
      this.classList.add('active');
      document.getElementById('imageStoryBtn').classList.remove('active');
      document.getElementById('textStoryContent').classList.add('active');
      document.getElementById('imageStoryContent').classList.remove('active');
    });
    
    document.getElementById('imageStoryBtn').addEventListener('click', function() {
      this.classList.add('active');
      document.getElementById('textStoryBtn').classList.remove('active');
      document.getElementById('imageStoryContent').classList.add('active');
      document.getElementById('textStoryContent').classList.remove('active');
    });
    
    // Ù†Ø´Ø± Ù‚ØµØ© Ù†ØµÙŠØ©
    document.getElementById('postTextStoryBtn').addEventListener('click', () => {
      const text = document.getElementById('storyText').value.trim();
      if(!text) {
        alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù†Øµ Ø§Ù„Ù‚ØµØ©');
        return;
      }
      const randomBg = "https://picsum.photos/seed/" + Math.floor(Math.random()*1000) + "/600/800";
      Backendless.Data.of(STORIES_TABLE).save({
        type: 'text',
        text: text,
        userId: currentUser.id,
        userName: currentUser.name,
        photoURL: currentUser.photoURL,
        timestamp: new Date().getTime(),
        backgroundUrl: randomBg
      }).then(() => {
        document.getElementById('addStoryModal').style.display = 'none';
        document.getElementById('storyText').value = '';
        loadStories();
      }).catch(err => console.error("Error posting text story:", err));
    });

    // Ø¯Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù†Ø´Ø± Ø§Ù„ØµÙˆØ±Ø© ÙÙŠ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª (Apl)
    async function publishImageToPosts(file) {
      try {
        // Ø¥Ø¸Ù‡Ø§Ø± Ù…Ø¤Ø´Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„
        const uploadBtn = document.getElementById('uploadImageBtn');
        const originalText = uploadBtn.innerHTML;
        uploadBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù†Ø´Ø±...';
        uploadBtn.disabled = true;
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø¥Ù„Ù‰ Backendless
        const fileURL = await Backendless.Files.upload(file, "post_images", true);
        
        // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª (Apl)
        await Backendless.Data.of(POSTS_TABLE).save({
          imageUrl: fileURL.fileURL,
          userId: currentUser.id,
          userName: currentUser.name,
          timestamp: new Date().getTime()
        });
        
        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ ÙˆØ¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¹Ù†Ø§ØµØ±
        document.getElementById('addStoryModal').style.display = 'none';
        document.getElementById('imagePreviewContainer').style.display = 'none';
        document.getElementById('imagePreview').src = '';
        document.getElementById('storyImageInput').value = "";
        
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø²Ø±
        uploadBtn.innerHTML = originalText;
        uploadBtn.disabled = false;
        
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±
        loadGalleryImages();
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­
        alert('ØªÙ… Ù†Ø´Ø± Ø§Ù„ØµÙˆØ±Ø© ÙÙŠ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!');
      } catch (error) {
        console.error("Ø®Ø·Ø£ ÙÙŠ Ù†Ø´Ø± Ø§Ù„ØµÙˆØ±Ø© ÙÙŠ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª:", error);
        alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ù†Ø´Ø± Ø§Ù„ØµÙˆØ±Ø© ÙÙŠ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª");
        
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø²Ø± ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£
        const uploadBtn = document.getElementById('uploadImageBtn');
        uploadBtn.innerHTML = '<i class="fa-solid fa-cloud-upload-alt"></i> Ù†Ø´Ø± Ø§Ù„ØµÙˆØ±Ø©';
        uploadBtn.disabled = false;
      }
    }

    // ÙØªØ­ Ù…ØªØµÙØ­ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø¹Ø§Ø¦Ù…
    document.getElementById('floatingAddImageBtn').addEventListener('click', () => {
      // ØªØ¹ÙŠÙŠÙ† Ù†ÙˆØ¹ Ø§Ù„Ù†Ø´Ø± Ø¥Ù„Ù‰ "Ù…Ù†Ø´ÙˆØ±"
      uploadType = 'post';
      document.getElementById('storyImageInput').click();
    });

    // Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø© Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø±Ù‡Ø§
    document.getElementById('storyImageInput').addEventListener('change', function() {
      if (this.files && this.files[0]) {
        const reader = new FileReader();
        
        reader.onload = function(e) {
          document.getElementById('imagePreview').src = e.target.result;
          document.getElementById('imagePreviewContainer').style.display = 'block';
          
          // Ø¹Ø±Ø¶ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙØªÙˆØ­Ø§Ù‹
          if (document.getElementById('addStoryModal').style.display !== 'flex') {
            document.getElementById('addStoryModal').style.display = 'flex';
            document.getElementById('imageStoryBtn').click();
          }
          
          // ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù†ØµÙˆØµ Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ù†Ø´Ø±
          if (uploadType === 'post') {
            document.getElementById('modalTitle').textContent = 'Ù†Ø´Ø± ØµÙˆØ±Ø© ÙÙŠ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª';
            document.getElementById('uploadImageBtn').innerHTML = 
              '<i class="fa-solid fa-cloud-upload-alt"></i> Ù†Ø´Ø± ÙÙŠ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª';
          } else {
            document.getElementById('modalTitle').textContent = 'Ù†Ø´Ø± Ù‚ØµØ© Ø¬Ø¯ÙŠØ¯Ø©';
            document.getElementById('uploadImageBtn').innerHTML = 
              '<i class="fa-solid fa-cloud-upload-alt"></i> Ù†Ø´Ø± Ø§Ù„ØµÙˆØ±Ø© ÙÙŠ Ø§Ù„Ù‚ØµØµ';
          }
        }
        
        reader.readAsDataURL(this.files[0]);
      }
    });

    // Ø­Ø¯Ø« Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø²Ø± Ù†Ø´Ø± Ø§Ù„ØµÙˆØ±Ø©
    document.getElementById('uploadImageBtn').addEventListener('click', async () => {
      const fileInput = document.getElementById("storyImageInput");
      const file = fileInput.files[0];
      
      if (!file) {
        alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø© Ø£ÙˆÙ„Ø§Ù‹");
        return;
      }
      
      // Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ù†Ø´Ø±
      if (uploadType === 'post') {
        await publishImageToPosts(file);
      } else {
        // Ø§Ù„Ù†Ø´Ø± ÙÙŠ Ø§Ù„Ù‚ØµØµ (ÙƒÙ…Ø§ ÙƒØ§Ù† ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø£ØµÙ„ÙŠ)
        try {
          // Ø¥Ø¸Ù‡Ø§Ø± Ù…Ø¤Ø´Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„
          document.getElementById('uploadImageBtn').innerHTML = 
            '<i class="fa-solid fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù†Ø´Ø±...';
          document.getElementById('uploadImageBtn').disabled = true;
          
          const fileURL = await Backendless.Files.upload(file, "story_images", true);
          await Backendless.Data.of(STORIES_TABLE).save({
            type: 'image',
            imageUrl: fileURL.fileURL,
            userId: currentUser.id,
            userName: currentUser.name,
            photoURL: currentUser.photoURL,
            timestamp: new Date().getTime()
          });
          
          document.getElementById('addStoryModal').style.display = 'none';
          document.getElementById('imagePreviewContainer').style.display = 'none';
          document.getElementById('imagePreview').src = '';
          fileInput.value = "";
          
          // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø²Ø±
          document.getElementById('uploadImageBtn').innerHTML = 
            '<i class="fa-solid fa-cloud-upload-alt"></i> Ù†Ø´Ø± Ø§Ù„ØµÙˆØ±Ø©';
          document.getElementById('uploadImageBtn').disabled = false;
          
          loadStories();
        } catch (error) {
          console.error("Ø®Ø·Ø£ ÙÙŠ Ù†Ø´Ø± Ø§Ù„ØµÙˆØ±Ø© ÙÙŠ Ø§Ù„Ù‚ØµØµ:", error);
          alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ù†Ø´Ø± Ø§Ù„ØµÙˆØ±Ø© ÙÙŠ Ø§Ù„Ù‚ØµØµ");
          
          // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø²Ø± ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£
          document.getElementById('uploadImageBtn').innerHTML = 
            '<i class="fa-solid fa-cloud-upload-alt"></i> Ù†Ø´Ø± Ø§Ù„ØµÙˆØ±Ø©';
          document.getElementById('uploadImageBtn').disabled = false;
        }
      }
      
      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ù†ÙˆØ¹ Ø§Ù„Ù†Ø´Ø± Ø¥Ù„Ù‰ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© (Ù‚ØµØ©)
      uploadType = 'story';
    });

    // ÙØªØ­ Ù…ÙˆØ¯Ø§Ù„ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚ØµØ©
    document.getElementById('floatingAddStoryBtn').addEventListener('click', () => {
      document.getElementById('addStoryModal').style.display = 'flex';
      document.getElementById('storyText').value = '';
      document.getElementById('textStoryBtn').classList.add('active');
      document.getElementById('imageStoryBtn').classList.remove('active');
      document.getElementById('textStoryContent').classList.add('active');
      document.getElementById('imageStoryContent').classList.remove('active');
      document.getElementById('modalTitle').textContent = 'Ù†Ø´Ø± Ù‚ØµØ© Ø¬Ø¯ÙŠØ¯Ø©';
      document.getElementById('uploadImageBtn').innerHTML = 
        '<i class="fa-solid fa-cloud-upload-alt"></i> Ù†Ø´Ø± Ø§Ù„ØµÙˆØ±Ø©';
    });
    
    // Ø¥ØºÙ„Ø§Ù‚ Ù…ÙˆØ¯Ø§Ù„ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚ØµØ©
    document.getElementById('closeAddStoryBtn').addEventListener('click', () => {
      document.getElementById('addStoryModal').style.display = 'none';
      document.getElementById('imagePreviewContainer').style.display = 'none';
      document.getElementById('imagePreview').src = '';
      document.getElementById('storyImageInput').value = '';
    });

    // Ø¯Ø§Ù„Ø© Ø¹Ø±Ø¶ Ù…Ø´Ø§Ù‡Ø¯Ø§Øª Ø§Ù„Ù‚ØµØ© ÙÙŠ Ù…ÙˆØ¯Ø§Ù„ Ù…Ù†ÙØµÙ„
    function showStoryViews(story) {
      const modal = document.getElementById('storyViewsModal');
      const viewsList = document.getElementById('viewsList');
      viewsList.innerHTML = "Ø¬Ø§Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„...";
      modal.style.display = 'flex';
      
      if(!story.views || story.views.length === 0) {
        viewsList.innerHTML = "<p>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø´Ø§Ù‡Ø¯Ø§Øª Ø¨Ø¹Ø¯.</p>";
        return;
      }
      
      // ÙÙŠ Ø¨ÙŠØ¦Ø© Ø­Ù‚ÙŠÙ‚ÙŠØ©ØŒ Ø³Ù†Ù‚ÙˆÙ… Ø¨Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù…Ù† Firebase
      // Ù„ÙƒÙ† Ù‡Ù†Ø§ Ø³Ù†Ø¹Ø±Ø¶ ÙÙ‚Ø· Ù…Ø¹Ø±ÙØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù„Ø£ØºØ±Ø§Ø¶ Ø§Ù„Ø¹Ø±Ø¶
      viewsList.innerHTML = "";
      story.views.forEach(userId => {
        let userDiv = document.createElement("div");
        userDiv.className = "viewer";
        userDiv.style.display = "flex";
        userDiv.style.alignItems = "center";
        userDiv.style.marginBottom = "10px";
        userDiv.innerHTML = `<img src="https://www.gravatar.com/avatar/?d=mp" style="width:40px; height:40px; border-radius:50%; margin-right:10px;"> Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (${userId})`;
        viewsList.appendChild(userDiv);
      });
    }

    document.getElementById('closeViewsModal').addEventListener('click', () => {
      document.getElementById('storyViewsModal').style.display = 'none';
    });
    
    // ÙˆØ¸Ø§Ø¦Ù Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ± Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Backendless
    async function loadGalleryImages() {
      try {
        const queryBuilder = Backendless.DataQueryBuilder.create().setSortBy('timestamp DESC');
        const records = await Backendless.Data.of(POSTS_TABLE).find(queryBuilder);
        const gallery = document.getElementById('gallery');
        gallery.innerHTML = "";
        
        records.forEach(record => {
          const post = document.createElement("div");
          post.className = "post";
          
          const img = document.createElement("img");
          img.src = record.imageUrl;
          
          const userName = document.createElement("div");
          userName.className = "user-name";
          userName.textContent = record.userName || "Ù…Ø³ØªØ®Ø¯Ù…";
          
          post.appendChild(img);
          post.appendChild(userName);
          
          // Ø¥Ø¶Ø§ÙØ© Ø²Ø± Ø­Ø°Ù Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ Ù‡Ùˆ ØµØ§Ø­Ø¨ Ø§Ù„ØµÙˆØ±Ø©
          if (currentUser && record.userId === currentUser.id) {
            const deleteBtn = document.createElement("button");
            deleteBtn.className = "delete-btn";
            deleteBtn.textContent = "Ø­Ø°Ù";
            deleteBtn.onclick = () => deleteImage(record.objectId);
            post.appendChild(deleteBtn);
          }
          
          gallery.appendChild(post);
        });
      } catch (error) {
        console.error("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„:", error);
      }
    }
    
    async function deleteImage(objectId) {
      if (confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„ØµÙˆØ±Ø©ØŸ")) {
        try {
          await Backendless.Data.of(POSTS_TABLE).remove(objectId);
          loadGalleryImages();
        } catch (error) {
          console.error("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­Ø°Ù:", error);
          alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­Ø°Ù Ø§Ù„ØµÙˆØ±Ø©");
        }
      }
    }
    
    // Ø£Ø­Ø¯Ø§Ø« Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
    document.getElementById('postsTab').addEventListener('click', function() {
      this.classList.add('active');
      document.getElementById('suggestedTab').classList.remove('active');
      document.getElementById('postsContent').classList.add('active');
      document.getElementById('suggestedContent').classList.remove('active');
    });
    
    document.getElementById('suggestedTab').addEventListener('click', function() {
      this.classList.add('active');
      document.getElementById('postsTab').classList.remove('active');
      document.getElementById('suggestedContent').classList.add('active');
      document.getElementById('postsContent').classList.remove('active');
    });
  </script>
</body>
</html>
